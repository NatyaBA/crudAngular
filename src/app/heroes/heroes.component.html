<div *ngIf="res | async as msg; else loading">
  {{msg}}
</div>
<ng-template #loading>
  <mat-progress-bar 
    mode="determinate" 
    [value]="determinateCnt" 
    (animationEnd)="progressInLoading()">
  </mat-progress-bar>
</ng-template>

<div id="search-component">
  <label for="search-box">User Search</label>
  <div class="search"> 
    <input #searchBox id="search-box" (input)="search(searchBox.value)" />
  </div>
    <ul class="search-result">
      <li *ngFor="let hero of heroes$ | async" >
        <a routerLink="/detail/{{hero.id}}">
          {{hero.name}}
          {{hero.country}}
          {{hero.age}}
        </a>
      </li>
    </ul>
</div>

<div class="headButton" >
  <button routerLink="/addUser">Add user</button>
</div>

<table  matSort mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let hero"> {{hero.id}} </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
    <td mat-cell *matCellDef="let hero"> {{hero.name}} </td>
  </ng-container>

  <ng-container matColumnDef="country">
    <th mat-header-cell *matHeaderCellDef> Country </th>
    <td mat-cell *matCellDef="let hero"> {{hero.country}} </td>
  </ng-container>

  <ng-container matColumnDef="age">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Age </th>
    <td mat-cell *matCellDef="let hero"> {{hero.age}} </td>
  </ng-container>
  <ng-container matColumnDef="buttonOne">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let hero" class='edit'>  <button routerLink="/detail/{{hero.id}}">edit</button> </td>
  </ng-container>
  <ng-container matColumnDef="buttonSecond">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let hero" class='delete' > <button title="delete hero"(click)="delete(hero)">x</button> </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>